{% extends 'warehouse/base.html' %}

{% block title %}Me{% endblock %}

{% block page_title %}–ê–∫–∫–∞—É–Ω—Ç{% endblock %}


{% block body %}
<div class="row g-5">
    <div class="card p-4 col-md-5 col-lg-4 order-md-last bg-body-tertiary shadow rounded-4">

        <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-primary">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>

            <button id="themeToggleBtn" class="btn btn-sm d-flex align-items-center">
                <span id="themeIcon" style="font-size: 30px;">üåí</span>
            </button>
        </h4>

        <div class="d-flex flex-column gap-2 align-items-start">

            <form method="post" action="{% url 'accounts:logout' %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-outline-danger btn-sm w-auto">
                    –í—ã–π—Ç–∏
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         class="bi bi-box-arrow-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                              d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"/>
                        <path fill-rule="evenodd"
                              d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"/>
                    </svg>
                </button>
            </form>

            {% if user_is_admin %}
            <a href="{% url 'admin:index' %}"
               class="btn btn-outline-secondary btn-sm w-auto">
                –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                     fill="currentColor" class="bi bi-person-gear" viewBox="0 0 16 16">
                    <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4
                        2 2 0 0 0 0 4m.256 7a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664
                        C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002
                        8 9c-5 0-6 3-6 4s1 1 1 1zm3.63-4.54c.18-.613 1.048-.613
                        1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306
                        1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612
                        1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309
                        1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229
                        0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64
                        0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0
                        0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382zM14
                        12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/>
                </svg>
            </a>
            {% endif %}
        </div>

    </div>


    <div class="col-md-7 col-lg-8">
        <h4 class="mb-3">–ü—Ä–æ—Ñ–∏–ª—å</h4>

        <div class="card p-4 shadow bg-body-tertiary rounded-4">
            <div class="d-flex flex-column flex-md-row align-items-start align-items-md-center">

                <div class="me-md-4 mb-3 mb-md-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor"
                         class="bi bi-person-circle text-secondary" viewBox="0 0 16 16">
                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                        <path fill-rule="evenodd"
                              d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226
                              4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                    </svg>
                </div>

                <div class="flex-grow-1">

                    <h4 class="mb-1">{{ user.get_full_name|default:user.username }}</h4>

                    <p class="text-muted mb-1"><strong>–õ–æ–≥–∏–Ω:</strong> {{ user.username }}</p>
                    <p class="text-muted mb-1">
                        <strong>–î–æ–ª–∂–Ω–æ—Å—Ç—å:</strong>
                        {{ user.groups.first.name|default:"–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–æ" }}
                    </p>
                    {% if user.email %}
                    <p class="text-muted mb-1"><strong>Email:</strong> {{ user.email }}</p>
                    {% endif %}

                    {% if user.last_login %}
                    <p class="text-muted mb-1">
                        <strong>–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥:</strong> {{ user.last_login|date:"d.m.Y H:i" }}
                    </p>
                    {% endif %}

                    <p class="text-muted mb-3">
                        <strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> {{ user.date_joined|date:"d.m.Y H:i" }}
                    </p>
                </div>

            </div>
        </div>

    </div>
</div>

{% endblock %}

{% block scripts %}
{% endblock %}

